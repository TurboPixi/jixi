(()=>{var t={358:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Btn:()=>K,Camera:()=>Q,Scene:()=>q,app:()=>qt,createApp:()=>te,nav:()=>n,scaler:()=>o,ui:()=>r,utils:()=>s});var s={};i.r(s),i.d(s,{alignmentStringToXY:()=>x,angleDegsBetweenPoints:()=>b,angleRadsBetweenPoints:()=>v,angularDeltaFromAnglesDeg:()=>X,angularDeltaFromAnglesRad:()=>j,clamp01:()=>I,clampNeg1Pos1:()=>w,cloneObj:()=>p,containScale:()=>d,coverScale:()=>u,debounce:()=>N,degToRad:()=>k,distanceBetweenPoints:()=>m,e:()=>c,escapeRegExp:()=>R,fontWeightStrToNum:()=>h,getFontFamilyFromGoogleFontURL:()=>l,getIntersectionPointsBetweenTwoCircles:()=>E,getObjPath:()=>g,globMatch:()=>D,intersectLineLine:()=>W,intersectRayRay:()=>F,intersectSegmentBox:()=>Y,intersectSegmentRect:()=>B,intersectSegmentSegment:()=>A,intersectionPtsBetweenCircleAndLineSeg:()=>H,killWaitsFor:()=>V,objectAssignDeep:()=>a,pad:()=>P,projectDistance:()=>M,projectFromPointDeg:()=>T,projectFromPointRad:()=>_,radToDeg:()=>C,requireAll:()=>G,rnd:()=>f,rotatePtAroundPtDeg:()=>S,rotatePtAroundPtRad:()=>O,setObjPathVal:()=>y,shuffle:()=>U,wait:()=>z});var n={};i.r(n),i.d(n,{bg:()=>et,dismissScene:()=>mt,inputScreen:()=>tt,isScenePresentedModally:()=>dt,isScenePresentedWithTransparentBg:()=>xt,openDefaultScene:()=>yt,openScene:()=>gt,reloadSceneStack:()=>bt,sceneHolder:()=>Z,setScenes:()=>ht,setupStage:()=>ct});var o={};i.r(o),i.d(o,{artboardDims:()=>Xt,configureArtboard:()=>Lt,off:()=>Bt,on:()=>Yt,proj:()=>_t,resizeThrottleDelay:()=>Wt,scaleFactor:()=>Tt,setup:()=>Dt,stageH:()=>jt,stageW:()=>St,uiScaleFactor:()=>Mt});var r={};i.r(r),i.d(r,{loadAssets:()=>Kt,registerFonts:()=>Vt,registerPsdInfo:()=>zt,txInfo:()=>Nt}),Object.defineProperty(PIXI.Sprite.prototype,"localWidth",{get:function(){return this.width/this.scale.x}}),Object.defineProperty(PIXI.Sprite.prototype,"localHeight",{get:function(){return this.height/this.scale.y}}),PIXI.Sprite.prototype.getLocalCenter=function(t=null){return(t=t||new Point).x=.5*this.localWidth-this.anchor.x*this.localWidth,t.y=.5*this.localHeight-this.anchor.y*this.localHeight,t},PIXI.Sprite.prototype.getLocalCornerPos=function(t,e,i=null){return(i=i||new Point).x=.5*this.localWidth+t*this.localWidth*.5-this.anchor.x*this.localWidth,i.y=.5*this.localHeight+e*this.localHeight*.5-this.anchor.y*this.localHeight,i},PIXI.Sprite.prototype.getLocalCenter=function(t=null){return(t=t||new Point).x=.5*this.localWidth-this.anchor.x*this.localWidth,t.y=.5*this.localHeight-this.anchor.y*this.localHeight,t},PIXI.Sprite.prototype.hitTestRect=function(t){const e=this.toLocal(t),i=this.getLocalCornerPos(-1,-1),s=e.x-i.x,n=e.y-i.y;return s>=0&&s<=this.localWidth&&n>=0&&n<=this.localHeight},PIXI.Sprite.prototype.hitTestEllipse=function(t){let e=this.toLocal(t);return this.width>this.height?e.y*=this.width/this.height:e.x*=this.height/this.width,m(e,this.getLocalCenter())<.5*Math.max(this.localWidth,this.localHeight)},PIXI.Sprite.prototype.enterTestRect=function(t,e,i=!0,s=!1){let n=this.hitTestRect(e);if(!n&&s){this.ptMids||(this.ptMids=[.5]);for(const i of this.ptMids){let s=e.x,o=e.y;if(e.x=t.x+(e.x-t.x)*i,e.y=t.y+(e.y-t.y)*i,n=this.hitTestRect(e),n)break;e.x=s,e.y=o}}if(!n)return{hit:!1};let o=this.toLocal(t),r=this.toLocal(e);const a=this.getLocalCornerPos(-1,-1);let l,h;r.x,a.x,r.y,a.y;const c=new Point(a.x+this.localWidth,a.y),f=new Point(a.x,a.y+this.localHeight),p=new Point(a.x+this.localWidth,a.y+this.localHeight);return o.x<a.x?(l=A(o,r,a,f),h=180):o.x>c.x&&(l=A(o,r,c,p),h=0),l||(o.y>a.y?(l=A(o,r,f,p),h=90):o.y<f.y&&(l=A(o,r,a,c),h=-90)),l?i?{hit:!0,intersectionPos:this.toGlobal(l),surfaceNormalAngle:this.angleToGlobal(h)}:{hit:!0,intersectionPos:l,surfaceNormalAngle:h}:{hit:!1}},PIXI.Sprite.prototype.enterTestEllipse=function(t,e,i=!0,s=!1){let n=this.hitTestEllipse(e);if(!n&&s){this.ptMids||(this.ptMids=[.5]);for(const i of this.ptMids){let s=e.x,o=e.y;if(e.x=t.x+(e.x-t.x)*i,e.y=t.y+(e.y-t.y)*i,n=this.hitTestEllipse(e),n)break;e.x=s,e.y=o}}if(!n)return{hit:!1};let o=this.toLocal(t),r=this.toLocal(e),a=1,l=1;this.height>this.width?a=this.height/this.width:l=this.width/this.height,r.x*=a,r.y*=l,o.x*=a,o.y*=l;const h=.5*Math.max(this.localWidth,this.localHeight),c=this.getLocalCenter(),f=H(o,r,c,h);if(f.length>0){let t=f[0],e=b(c,t);return t.x*=1/a,t.y*=1/l,i?{hit:!0,intersectionPos:this.toGlobal(t),surfaceNormalAngle:this.angleToGlobal(e)}:{hit:!0,intersectionPos:t,surfaceNormalAngle:e}}return{hit:!1}},Math.sinDeg=function(t){return Math.sin(t/180*Math.PI)},Math.cosDeg=function(t){return Math.cos(t/180*Math.PI)},PIXI.DisplayObject.prototype.angleToGlobal=function(t){return this._angleLocalGlobalOrigin||(this._angleLocalGlobalOrigin=new Point(0,0),this._angleLocalGlobalTarget=new Point(0,0)),this._angleLocalGlobalOrigin.set(0,0),this._angleLocalGlobalTarget.set(1*Math.cosDeg(t),0+1*Math.sinDeg(t)),this.toGlobal(this._angleLocalGlobalOrigin,this._angleLocalGlobalOrigin),this.toGlobal(this._angleLocalGlobalTarget,this._angleLocalGlobalTarget),b(this._angleLocalGlobalOrigin,this._angleLocalGlobalTarget)},PIXI.DisplayObject.prototype.angleToLocal=function(t){return this._angleLocalGlobalOrigin||(this._angleLocalGlobalOrigin=new Point(0,0),this._angleLocalGlobalTarget=new Point(0,0)),this._angleLocalGlobalOrigin.set(0,0),this._angleLocalGlobalTarget.set(1*Math.cosDeg(t),0+1*Math.sinDeg(t)),this.toLocal(this._angleLocalGlobalOrigin,null,this._angleLocalGlobalOrigin),this.toLocal(this._angleLocalGlobalTarget,null,this._angleLocalGlobalTarget),b(this._angleLocalGlobalOrigin,this._angleLocalGlobalTarget)},PIXI.DisplayObject.prototype.bringToFront=function(){this.parent.setChildIndex(this,this.parent.children.length-1)},PIXI.DisplayObject.prototype.sendToBack=function(){this.parent.setChildIndex(this,0)},PIXI.DisplayObject.prototype.debugStack=function(t=0){let e=[];0==t?(e.push(this.name),e.push("=".repeat(this.name.length))):e.push("  ".repeat(t-1)+"- "+this.name);for(let i=this.children.length-1;i>=0;i--){let s=this.children[i];e=e.concat(s.debugStack(t+1))}if(0!=t)return e;window.console.log(e.join("\n"))},PIXI.DisplayObject.prototype.setPivotWithoutMoving=function(t,e){const i=new Point(t-this.pivot.x,e-this.pivot.y);this.pivot.set(t,e);const s=new Point(i.x*this.scale.x,i.y*this.scale.y),n=new Point(0,0),o=m(n,s),r=b(n,s);this.position=T(this.position,r+this.angle,o)},PIXI.Graphics.prototype.dashedLineTo=function(t,e,i=16,s=8,n=0){let o=(s+i)*n;o>s&&(o-=s+i);let r,a=!1,l=m(t,e);for(o>0?(r=M(t,e,o),this.moveTo(r.x,r.y)):this.moveTo(t.x,t.y);o<l;)a=!a,a?(o=Math.min(l,o+i),r=M(t,e,o),this.lineTo(r.x,r.y)):(o=Math.min(l,o+s),r=M(t,e,o),this.moveTo(r.x,r.y))},PIXI.DisplayObject.prototype.adjustForParentScale=function(){this.scale.x*=Math.abs(1/this.parent.scale.x),this.scale.y*=Math.abs(1/this.parent.scale.y)},PIXI.Point.prototype.plus=function(t){return this.x+=t.x,this.y+=t.y,this},PIXI.Point.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this},PIXI.DisplayObject.prototype.translateToCoordSpace=function(t,e){return e.toLocal(this.position,t,this.position)},PIXI.Point.prototype.translateToCoordSpace=function(t,e){return e.toLocal(this,t,this)},PIXI.ObservablePoint.prototype.translateToCoordSpace=function(t,e){return e.toLocal(this,t,this)};const a=i(47);function l(t){const e=t.indexOf("family=");if(-1===e)return"sans-serif";let i=t.indexOf("&",e);return-1===i&&(i=void 0),t.slice(e+7,i).split("+").join(" ")}function h(t){let e=t.trim().toLowerCase();return e.split("thin").length>1?100:e.split("light").length>1?e.split("ultra").length>1||e.split("extra").length>1?200:300:e.split("normal").length>1||e.split("regular").length>1?400:e.split("medium").length>1?500:e.split("bold").length>1?e.split("semi").length>1||e.split("demi").length>1?600:e.split("ultra").length>1||e.split("extra").length>1?800:700:e.split("black").length>1?900:400}function c(t){return t?document.getElementById(t):null}function f(t){return Math.round(t)}function p(t){return Object.assign({},t)}function u(t,e,i,s){return t/e<i/s?i/t:s/e}function d(t,e,i,s){return t/e>=i/s?i/t:s/e}function x(t,e=!1){if(t=t.trim().toUpperCase(),!e&&1==t.length&&"C"==t)return{x:0,y:0};if("CC"==t)return{x:0,y:0};let i={x:null,y:null};return 2==t.split("L").length?i.x=-1:2==t.split("R").length?i.x=1:e&&2==t.split("C").length&&(i.x=0),2==t.split("T").length?i.y=-1:2==t.split("B").length?i.y=1:2==t.split("M").length&&(i.y=0),e||(2==t.split("C").length&&(null===i.x&&null!==i.y?i.x=0:null===i.y&&null!==i.x&&(i.y=0)),i.x=null===i.x?0:i.x,i.y=null===i.y?0:i.y),i}function y(t,e,i){var s=t,n=e.split(".");for(let t=0;t<n.length;t++)n[t]=n[t].split("(dot)").join(".");for(var o=0;o<n.length;o++)o==n.length-1?s[n[o]]=i:null==s[n[o]]&&(s[n[o]]={}),s=s[n[o]];return t}function g(t,e){for(var i=t,s=e.split("."),n=0;n<s.length;n++){if(null==i[e=s[n]]){if("length"==e&&"object"==typeof t&&!Array.isArray(i)){var o=0;for(var r in i)o++;return o}if("]"==e.charAt(e.length-1)&&2==e.split("[").length){var a=e.split("["),l=a[1].substr(0,a[1].length-1);if(l>=0&&null!=i[a[0]]&&Array.isArray(i[a[0]])&&i[a[0]].length>l)return i[a[0]][l]}return}if(i=i[e],n==s.length-1)return i}}function P(t,e,i,s=!0){const n=i>(t=String(t)).length?e.repeat(i-t.length):"";return s?n+t:t+n}function m(t,e){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}function I(t){return t<0?0:t>1?1:t}function w(t){return t<-1?-1:t>1?1:t}function v(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function b(t,e){return C(v(t,e))}function _(t,e,i){return new Point(t.x+i*Math.cos(e),t.y+i*Math.sin(e))}function T(t,e,i){return _(t,k(e),i)}function M(t,e,i){const s=t.x-e.x,n=t.y-e.y,o=Math.sqrt(s*s+n*n);return new Point(t.x-s*(i/o),t.y-n*(i/o))}function O(t,e,i,s=!1){if(!s)return new Point(Math.cos(i)*(e.x-t.x)-Math.sin(i)*(e.y-t.y)+t.x,Math.sin(i)*(e.x-t.x)+Math.cos(i)*(e.y-t.y)+t.y);e.set(Math.cos(i)*(e.x-t.x)-Math.sin(i)*(e.y-t.y)+t.x,Math.sin(i)*(e.x-t.x)+Math.cos(i)*(e.y-t.y)+t.y)}function S(t,e,i,s=!1){return O(t,e,k(i),s)}function j(t,e){return Math.atan2(Math.sin(e-t),Math.cos(e-t))}function X(t,e){return C(j(k(t),k(e)))}function k(t){return t/180*Math.PI}function C(t){return t/Math.PI*180}let L={};function D(t,e){let i,s;if(L[e])i=L[e].inverseResults,s=L[e].pattern;else{let t=e;i=!1,t.startsWith("!")&&(i=!0,t=t.substr(1));let n=t.split("*");1==n.length?s=t.toLowerCase():(t=n.join("__asterisk__"),t=R(t),t=t.split("__asterisk__").join(".*"),s=new RegExp(t,"i")),L[e]={inverseResults:i,pattern:s}}const n="string"==typeof s?t.toLowerCase()==s:t.match(s);return i?!n:n}function R(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function W(t,e,i,s){let n=null;const o=(s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x),r=(e.x,t.x,t.y,i.y,e.y,t.y,t.x,i.x,(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y));if(0!=r){const i=o/r;n=new Point(t.x+i*(e.x-t.x),t.y+i*(e.y-t.y))}return n}function A(t,e,i,s){var n=null,o=(s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x),r=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),a=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y);if(0!=a){var l=o/a,h=r/a;0<=l&&l<=1&&0<=h&&h<=1&&(n=new Point(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y)))}return n}function F(t,e,i,s){var n=null,o=(s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x),r=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),a=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y);if(0!=a){var l=o/a;l>=0&&r/a>=0&&(n=new Point(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y)))}return n}function Y(t,e,i,s,n,o){return A(t.x,t.y,e.x,e.y)||A(t.x,t.y,e.x,e.y)||A(t.x,t.y,e.x,e.y)||A(t.x,t.y,e.x,e.y)}function B(t,e,i){return Y(t,t,i.x,i.y,i.width,i.height)}function H(t,e,i,s){let n,o,r,a,l,h,c,f,p,u;return p={},u={},p.x=e.x-t.x,p.y=e.y-t.y,u.x=t.x-i.x,u.y=t.y-i.y,n=p.x*u.x+p.y*u.y,o=2*(p.x*p.x+p.y*p.y),n*=-2,r=Math.sqrt(n*n-2*o*(u.x*u.x+u.y*u.y-s*s)),isNaN(r)?[]:(a=(n-r)/o,l=(n+r)/o,c={},f={},h=[],a<=1&&a>=0&&(c.x=t.x+p.x*a,c.y=t.y+p.y*a,h.push(c)),l<=1&&l>=0&&(f.x=t.x+p.x*l,f.y=t.y+p.y*l,h.push(f)),h)}function E(t,e,i,s){var n=this.distanceBetweenPoints(t,i);if(n>e+s||n<Math.abs(e-s))return[];var o=(Math.pow(e,2)-Math.pow(s,2)+Math.pow(n,2))/(2*n),r=Math.sqrt(Math.pow(e,2)-Math.pow(o,2)),a=new Object;a.x=t.x+o*(i.x-t.x)/n,a.y=t.y+o*(i.y-t.y)/n;var l={x:a.x+r*(i.y-t.y)/n,y:a.y-r*(i.x-t.x)/n};return[l,{x:-l.x+2*a.x,y:-l.y+2*a.y}]}function G(t){return t.keys().map(t)}function N(t,e,i){let s;return function(){let n=arguments,o=()=>{s=null,i||t.apply(this,n)},r=i&&!s;clearTimeout(s),s=setTimeout(o,e),r&&t.apply(this,n)}}function V(t){TweenMax.killTweensOf(t)}function z(){let t=Array.from(arguments),e=null;"number"!=typeof t[0]&&(e=t.shift()),0==t.length&&(t[0]=0),1==t.length&&(t[1]=null),2==t.length&&(t[2]=null),null!==e&&(t[3]=e),TweenMax.delayedCall.apply(e,t)}function U(t){let e=t.length;for(;e>0;){let i=Math.floor(Math.random()*e);e--;let s=t[e];t[e]=t[i],t[i]=s}return t}class q extends PIXI.Container{constructor(t,e=null,i=0,s=!1){super(),this.sceneData=t,this.psdID=e,this.name=t.sceneID+"_"+t.instanceID,this.bgColor=i,this.camera=null,s&&(this.camera=new Q(e),this.addChild(this.camera)),this.on("added",this.didLoad)}didLoad(t){this.off("added",this.didLoad),this.on("removed",this.dispose),this.bgScreen=new Sprite(PIXI.Texture.EMPTY),this.bgScreen.interactive=!0,this.bgScreen.width=St,this.bgScreen.height=jt,this.addChild(this.bgScreen)}ready(){this.emit("ready",this)}shouldReloadOnStageResize(t,e){return!0}getMarioTransPt(t){return new Point(.5*St,.5*jt)}getMarioTransFocusRad(t){return 100}onWillArrive(t){}onDidArrive(t){}onWillExit(t){}onDidExit(t){}onBtn(t){console.log("Clicked btn `"+t.name+"`.")}dispose(){this.off("removed",this.dispose),this.killTweens(),this.bgScreen=null,this.destroy({children:!0})}killTweens(t=null){for(var e of(t=null!==t?t:this,TweenMax.killTweensOf(t),this.art&&(this.art=null),t.children))this.killTweens(e)}}class Q extends PIXI.Container{constructor(t){super(),this.psdID=t,this.tickBound=this.tick.bind(this),this.dims={width:St,height:jt},this.centerPt=new Point(.5*this.dims.width,.5*this.dims.height),this.hardLimitVisibleBounds=!1,this.maxVisibleY=!1,this.minVisibleY=!1,this.maxVisibleX=!1,this.minVisibleX=!1,this.parallaxItems=[],this.delta=new Point,this.targetPos=new Point,this.velocity=new Point(0,0),this._tmp=new Point,this.prevTrackeePos=new Point,this.trackeeSpeed=new Point,this.futureTrackeePos=new Point,this.targetOffset=new Point,this.inShotFactor=new Point,this.forceFactorX=100,this.forceFactorY=100,this.zeroPt=new Point(0,0),this.trackeePos=new Point(0,0),this.on("removed",this.dispose)}set centerPt(t){this._centerPt=t}translatePtToCameraPos(t){return this._tmp.x=this.applyVisibleLimitX(t.x,!0),this._tmp.y=this.applyVisibleLimitY(t.y,!0),this._tmp.x=-this._tmp.x+this._centerPt.x,this._tmp.y=-this._tmp.y+this._centerPt.y,this._tmp}applyVisibleLimitX(t,e=!1){return!1!==this._minVisibleX&&(t=e?Math.max(t,this._minVisibleX+this._centerPt.x):Math.min(t,this._minVisibleX)),!1!==this._maxVisibleX&&(t=e?Math.min(t,this._maxVisibleX-(this.dims.width-this._centerPt.x)):Math.max(t,this._maxVisibleX-this.dims.width)),t}applyVisibleLimitY(t,e=!1){return!1!==this._minVisibleY&&(t=e?Math.max(t,this._minVisibleY+this._centerPt.y):Math.min(t,this._minVisibleY)),!1!==this._maxVisibleY&&(t=e?Math.min(t,this._maxVisibleY-(this.dims.height-this._centerPt.y)):Math.max(t,this._maxVisibleY-this.dims.height)),t}set maxVisibleY(t){this._maxVisibleY=t}set minVisibleY(t){this._minVisibleY=t}set maxVisibleX(t){this._maxVisibleX=t}set minVisibleX(t){this._minVisibleX=t}track(t,e=!1){if(this.trackee==t)return;!t&&this.trackee&&this.killTracking();const i=Boolean(this.trackee);if(this.trackee=t,this.trackee&&(this.prevTrackeePos.set(this.trackee.x,this.trackee.y),this.trackee=t,i||this.resumeTracking(),e)){this.velocity.x=0,this.velocity.y=0;const t=this.translatePtToCameraPos(this.trackee.position);this.setPos(t.x,t.y)}}pauseTracking(){ticker.remove(this.tickBound)}resumeTracking(){ticker.add(this.tickBound)}killTracking(){TweenMax.killTweensOf(this),this.pauseTracking(),this.target=null}tick(){this.trackee.toGlobal(this.zeroPt,this.trackeePos),this.trackeePos.minus(this.position),this.trackeeSpeed.x=this.trackeePos.x-this.prevTrackeePos.x,this.trackeeSpeed.y=this.trackeePos.y-this.prevTrackeePos.y,this.futureTrackeePos.x=this.trackeePos.x+this.trackeeSpeed.x,this.futureTrackeePos.y=this.trackeePos.y+this.trackeeSpeed.y,this.prevTrackeePos.x=this.trackeePos.x,this.prevTrackeePos.y=this.trackeePos.y,this.targetPos.copyFrom(this.translatePtToCameraPos(this.trackeePos)),this.targetOffset.x=this.targetPos.x-this.x,Math.abs(this.trackeeSpeed.x)>1?(this.targetOffset.x>0?this.inShotFactor.x=this.targetOffset.x/this._centerPt.x:this.inShotFactor.x=this.targetOffset.x/-(this.dims.width-this._centerPt.x),this.inShotFactor.x*=10):this.inShotFactor.x=0,this.targetOffset.y=this.targetPos.y-this.y,Math.abs(this.trackeeSpeed.y)>1?(this.targetOffset.y>0?this.inShotFactor.y=this.targetOffset.y/this._centerPt.y:this.inShotFactor.y=this.targetOffset.y/-(this.dims.height-this._centerPt.y),this.inShotFactor.y*=10):this.inShotFactor.y=0,this.forceFactorX+=(80/Math.max(this.inShotFactor.x,1)-this.forceFactorX)/10,this.forceFactorY+=(80/Math.max(this.inShotFactor.y,1)-this.forceFactorY)/10,this.velocity.x+=this.targetOffset.x/this.forceFactorX,this.velocity.y+=this.targetOffset.y/this.forceFactorY,this.velocity.x*=.75,this.velocity.y*=.75,this.setPos(this.x+this.velocity.x,this.y+this.velocity.y)}setPos(t,e){this.hardLimitVisibleBounds&&(t=this.applyVisibleLimitX(t),e=this.applyVisibleLimitY(e)),this.delta.x=t-this.x,this.delta.y=e-this.y,this.x=t,this.y=e,this.updateParallax(this.delta)}registerParallaxItem(t,e,i=null,s=null,n=null,o=!1){null===i&&(i=e),s=null!==s&&s,null===n&&(n=s),this.parallaxItems.push({dispo:t,factorX:e,factorY:i,loopX:s,loopY:n})}adjustParallaxItemHeightToCoverVisBtm(t){for(const e of this.parallaxItems)if(e.dispo==t)return void(e.adjustHeightToCoverVisBtm=!0)}updateParallax(t){for(const e of this.parallaxItems)e.dispo.x-=t.x*e.factorX,e.dispo.y-=t.y*e.factorY,!e.loopX&&!e.loopY||e._centerOffset||(e._centerOffset=new Point,e.dispo.getLocalCenter(e._centerOffset),e._centerOffset.x*=e.dispo.scale.x,e._centerOffset.y*=e.dispo.scale.y),e.loopX&&(this.x+e._centerOffset.x+e.dispo.x<.5*-e.dispo.width?e.dispo.x+=St+2*e.dispo.width:this.x+e._centerOffset.x+e.dispo.x>St+.5*e.dispo.width&&(e.dispo.x-=St+2*e.dispo.width)),e.loopY&&(this.y+e._centerOffset.y+e.dispo.y<.5*-e.dispo.height?e.dispo.y+=jt+2*e.dispo.height:this.y+e._centerOffset.y+e.dispo.y>jt+.5*e.dispo.height&&(e.dispo.y-=jt+2*e.dispo.height)),e.adjustHeightToCoverVisBtm&&e.dispo.y<-this.y+this.dims.height&&(e.dispo.height=-this.y+this.dims.height-e.dispo.y)}dispose(){this.off("removed",this.dispose),this.killTracking(),this.parallaxItems=[]}}let $={default:{gfxParams:{line:{width:0,color:0,alpha:1,alignment:0},fill:{color:8250,alpha:1},bevel:14},tfParams:{color:16777215}}},J=0;class K extends PIXI.Graphics{constructor(){super()}static registerClass(t,e){$[t]=e}static setBtnTintOn(t){J=t}init(){if(!this.txInfo)throw new Error("Btn `txInfo` not set");if(this.txInfo.class&&!$[this.txInfo.class])throw new Error("Button class `"+this.txInfo.class+"` not found. Call `Btn.registerClass(..)` before initiating app.");a(this.txInfo,$[this.txInfo.class||"default"]),this.tf=Text.fromTx(this.txInfo.path),this.tf.anchor.set(.5,.5),this.addChild(this.tf),this.makeBtn(),this.paddingW=Math.ceil(.5*(this.txInfo.width-this.txInfo.tfParams.visBoundsW)*_t[this.txInfo.projID].scale),this.paddingH=Math.ceil(.5*(this.txInfo.height-this.txInfo.tfParams.visBoundsH)*_t[this.txInfo.projID].scale),this.origW=this.txInfo._proj.width,this.origH=this.txInfo._proj.height,this.origX=this.txInfo._proj.tlX-this.txInfo._proj.x,this.origY=this.txInfo._proj.tlY-this.txInfo._proj.y,this.renderBg()}renderBg(){const t=this.tf.width+2*this.paddingW,e=this.tf.height+2*this.paddingH,i=this.origX+(this.origW-t)*this.txInfo.regPercX,s=this.origY+(this.origH-e)*this.txInfo.regPercY;this.isMultiline?this.renderRect(i,s,t,e):this.renderRect(i,null,t,null),this.tf.x=i+.5*t,this.tf.y=s+.5*e}get isMultiline(){return-1!=this.tf.text.indexOf("\n")||-1!=this.tf.text.indexOf("\r")}get text(){return this.tf.text}set text(t){this.tf.text=t,this.renderBg()}}PIXI.DisplayObject.prototype.killBtn=function(t=null){this.off("pointerdown"),this.off("pointerupoutside"),this.off("pointerup"),this.interactive=!1,this.buttonMode=!1;let e=this.getChildByName("__btnhit");e&&this.removeChild(e)},PIXI.DisplayObject.prototype.makeBtn=function(t=null,e=null){const i=J;this.interactive=!0,this.buttonMode=!0;const s=!(this.isSprite||this instanceof Graphics||this instanceof K);if(!e&&s){const t=new Sprite(PIXI.Texture.EMPTY);t.name="__btnhit",t.width=this.txInfo._proj.width,t.height=this.txInfo._proj.height,t.x=this.txInfo._proj.tlX-this.txInfo._proj.x,t.y=this.txInfo._proj.tlY-this.txInfo._proj.y,this.addChild(t)}this.on("pointerdown",(function(){if(e)e(!0);else if(this.tint=i,s)for(const t of this.children)t.isSprite&&(t.tint=i)})).on("pointerupoutside",(function(){if(e)e(!1);else if(this.tint=16777215,s)for(const t of this.children)t.isSprite&&(t.tint=16777215)})).on("pointerup",(function(){if(e)e(!1);else if(this.tint=16777215,s)for(const t of this.children)t.isSprite&&(t.tint=16777215);t?t(this):"function"==typeof this.parent.onBtn&&this.parent.onBtn.bind(this.parent)(this)}))};let Z,tt,et,it,st=!1,nt=[],ot=null,rt={};const at=G(i(61));for(let t of at)if(t.id){let e=Array.isArray(t.id)?t.id:[t.id];for(var lt of e)rt[lt]=t.default}function ht(t){it=t}function ct(t,e){et=new PIXI.Sprite(PIXI.Texture.WHITE),et.width=St,et.height=jt,et.tint=0,t.addChild(et),gsap.fromTo(et,.6,{pixi:{alpha:0}},{pixi:{alpha:e},ease:Linear.easeNone}),Z=new Container,t.addChild(Z),tt=new PIXI.Sprite(PIXI.Texture.EMPTY),tt.interactive=!0,tt.width=St,tt.height=jt,t.addChild(tt),tt.visible=!1,Yt("resize_immediate",ft),Yt("resize",pt)}function ft(t,e){et.width=t,et.height=e}function pt(t,e){bt()}function ut(t){tt.visible=!t}function dt(){return nt[nt.length-1].isModal||ot}function xt(){if(ot&&ot.isTransparent)return!0;for(let t=nt.length-1;t>=0;t--)if(nt[nt.length-1].isTransparent)return!0;return!1}function yt(){if(!it)throw new Error("Scenes never set. Call `nav.setScenes(..)` before initiating app.");for(const t in it)if(it[t].default)return gt(t),!0;return!1}function gt(t,e=!1,i="fade",s=null){if(st)return;if(st=!0,ut(!1),!it[t])throw new Error("Scene not found `"+t+"`");const n=i.split(":"),o=n.length>1?n[1]:null;if(i=n[0],!rt[i])throw new Error("Transition not found `"+i+"`");const r=new it[t].class(Object.assign({sceneID:t,instanceID:1e6+Math.round(8999999*Math.random())},it[t].sceneData,s));r.visible=!1,r.on("ready",Pt);const a=nt.length>0?nt[nt.length-1].scene:null,l=new rt[i](r,a,e,o,i);if(!l.isModal&&nt.length>1){let t=nt.splice(nt.length-1,1)[0];t.isModal?ot=t:t.scene=null}nt.push(l),Z.addChild(r)}function Pt(t){t.off("ready",Pt),nt[nt.length-1].scenePrev&&nt[nt.length-1].scenePrev.onWillExit(nt[nt.length-1].isModal),nt[nt.length-1].scene.onWillArrive(!1),nt[nt.length-1].performIn(It)}function mt(){if(!st){if(st=!0,ut(!1),nt.length<2||!nt[nt.length-1].isModal||!nt[nt.length-1].scenePrev)throw new Error("Cannot dismiss scene");nt[nt.length-1].scene.onWillExit(!1),nt[nt.length-1].scenePrev&&nt[nt.length-1].scenePrev.onWillArrive(!0),nt[nt.length-1].performOut(wt)}}function It(){nt[nt.length-1].scenePrev&&(nt[nt.length-1].scenePrev.onDidExit(nt[nt.length-1].isModal),nt[nt.length-1].isModal||(Z.removeChild(nt[nt.length-1].scenePrev),nt[nt.length-1].scenePrev=null)),ot&&(ot.scene=nt[nt.length-1].scene,nt[nt.length-1].scene=null,nt.splice(nt.length-1,1),nt.push(ot),ot=null),st=!1,ut(!0),nt[nt.length-1].scene.onDidArrive(nt[nt.length-1].isModal),vt()}function wt(){nt[nt.length-1].scene.onDidExit(!1),Z.removeChild(nt[nt.length-1].scene),nt[nt.length-1].scene=null,nt[nt.length-1].scenePrev&&(nt[nt.length-1].scenePrev=null),nt.splice(nt.length-1,1),st=!1,ut(!0),nt[nt.length-1].scene.onDidArrive(!0),vt()}function vt(){nt[nt.length-1].reloadOnNextArrive&&(delete nt[nt.length-1].reloadOnNextArrive,bt())}function bt(){if(st)return void(nt[nt.length-1].reloadOnNextArrive=!0);for(let t=0;t<nt.length-1;t++)nt[t].scene.shouldReloadOnStageResize(St,jt)&&(nt[t].scene.visible=!1,nt[t].reloadOnNextArrive=!0);let t=nt[nt.length-1].scene;if(t.shouldReloadOnStageResize(St,jt)){let e=t.sceneData.sceneID,i=p(t.sceneData);delete i.sceneID,delete i.instanceID,gt(e,!1,"fade",i)}}let _t,Tt,Mt,Ot,St=0,jt=0,Xt={width:Math.round(378),height:Math.round(667)},kt=2,Ct={default:{alignment:{x:0,y:0},scaleToFit:"contain",minDensity:1},ui:{matchProjScale:"default",pinToProj:"default",minScale:1,maxScale:1.2}};function Lt(t,e,i){t&&(Xt=t),e&&(kt=e),i&&(Ct=i)}function Dt(){Ot=new PIXI.utils.EventEmitter,qt.renderer.on("resize",At),Ft()}class Rt{constructor(t=null,e=null,i=null,s=null,n=null,o=!1,r=null,a=null,l=null){if(this.stretchPosMode=o,null!==e)this.scale=e(St,jt);else if(null!==i)"contain"==(i=i.toLowerCase())?this.scale=d(Xt.width,Xt.height,St,jt):"cover"==i?this.scale=u(Xt.width,Xt.height,St,jt):"w"==i?this.scale=St/Xt.width:"h"==i&&(this.scale=jt/Xt.height);else if(s){if(s&&!_t[s])throw new Error("Scale match projection not found `"+s+"`. Check declaration order.");this.scale=_t[s].scale}if(null!==r&&(this.scale=this.scaleForPxDensity(Math.max(this.pxDensity,r))),null!==a&&(this.scale=Math.max(this.scale,a)),null!==l&&(this.scale=Math.min(this.scale,l)),this.positionScale=this.scale,this.topLeft={x:0,y:0},null!==t)-1==t.x?this.topLeft.x=0:0==t.x?this.topLeft.x=f(.5*St-this.scale*Xt.width*.5):1==t.x&&(this.topLeft.x=f(St-this.scale*Xt.width)),-1==t.y?this.topLeft.y=0:0==t.y?this.topLeft.y=f(.5*jt-this.scale*Xt.height*.5):1==t.y&&(this.topLeft.y=f(jt-artboardScale*Xt.height));else if(n){if(n&&!_t[n])throw new Error("Pin projection not found `"+n+"`. Check declaration order.");this.topLeft={x:_t[n].topLeft.x,y:_t[n].topLeft.y},this.positionScale=_t[n].positionScale}}get pxScale(){return window.devicePixelRatio*(this.scale/kt)}get pxDensity(){return 1/(window.devicePixelRatio*(this.scale/kt))*window.devicePixelRatio}scaleForPxDensity(t){return 1/(t/window.devicePixelRatio)/window.devicePixelRatio*kt}transArtX(t){return this.stretchPosMode?this.topLeft.x+t/Xt.width*St:this.topLeft.x+this.positionScale*t}transArtY(t){return this.stretchPosMode?this.topLeft.y+t/Xt.width*jt:this.topLeft.y+this.positionScale*t}}const Wt=.5;function At(){let t=qt.renderer.view.width/window.devicePixelRatio,e=qt.renderer.view.height/window.devicePixelRatio;Ot.emit("resize_immediate",t,e),V(Ft),z(Wt,Ft)}function Ft(){let t=qt.renderer.view.width/window.devicePixelRatio,e=qt.renderer.view.height/window.devicePixelRatio;if(t!=St||e!=jt){St=t,jt=e,_t={};for(let t in Ct){let e=Ct[t];_t[t]=new Rt(e.alignment,e.scaleFn,e.scaleToFit,e.matchProjScale,e.pinToProj,e.stretchPosMode,e.minDensity,e.minScale,e.maxScale)}Tt=_t.default.scale,Mt=_t.ui.scale,Ot.emit("resize",St,jt)}}function Yt(t,e){return Ot.on(t,e)}function Bt(t,e){return Ot.off(type,e)}let Ht,Et,Gt,Nt;function Vt(t){Ht={},Et=[];for(const e in t)if(!Ht[t[e].psdFontName]){const i=l(t[e].fontURL);Et.push(i),Ht[t[e].psdFontName]=[i].concat(t[e].fallbacks)}}function zt(t){Gt={};for(let e of t)Gt[e.doc.name]=e;Nt={};for(let t in Gt)for(let e=Gt[t].doc.txs.length-1;e>=0;e--)Gt[t].doc.txs[e].psdID=t,Gt[t].doc.txs[e].path=t+"/"+Gt[t].doc.txs[e].name,Gt[t].doc.txs[e].index=e,Gt[t].doc.txs[e].projID=-1!=Gt[t].doc.txs[e].flags.split(",").indexOf("ui")?"ui":"default",Gt[t].doc.txs[e].children=[],Gt[t].doc.txs[e].tfParams.length>0&&(Gt[t].doc.txs[e].tfParams=JSON.parse(Gt[t].doc.txs[e].tfParams)),Gt[t].doc.txs[e].parent&&Nt[Gt[t].doc.name+"/"+Gt[t].doc.txs[e].parent].children.unshift(Gt[t].doc.txs[e].name),Nt[Gt[t].doc.name+"/"+Gt[t].doc.txs[e].name]=Gt[t].doc.txs[e]}let Ut,qt,Qt,$t=0,Jt=0;function Kt(t){if(!Gt)throw new Error("PSD info never registered. Call `ui.registerPsdInfo(..)` before initiating app.");Ut=t,Jt++,Et.length>0&&(Jt++,WebFont.load({google:{families:Et},loading:function(){},active:function(){Zt()},inactive:function(){Zt()}}));for(let t in Nt)"img"==Nt[t].type&&loader.add(t,Nt[t].src);loader.load(Zt)}function Zt(){$t++,$t==Jt&&Ut&&Ut()}function te(t,e=!1,i=1,s=null){Qt=t,qt=new PIXI.Application({autoDensity:!0,antialias:1==window.devicePixelRatio,transparent:i<1,resolution:window.devicePixelRatio,resizeTo:e?window:Qt}),Dt(),Kt((function(){s&&s(),function(t){if(Qt.appendChild(qt.view),ct(qt.stage,t),Qt.setAttribute("oncontextmenu","return false"),!yt())throw new Error("Default scene not found.")}(i)}))}PIXI.DisplayObject.fromTx=function(t){if(!Nt[t])throw new Error("Texture info not found `"+t+"`");let e;if(this==K)e=new K(t);else if(this==Graphics)e=new Graphics;else if(this==Text)e=new Text(Nt[t].tfParams.text,{fontFamily:Ht[Nt[t].tfParams.font],fontSize:Nt[t].tfParams.fontSize*_t[Nt[t].projID].scale,fill:Nt[t].tfParams.color,fontWeight:h(Nt[t].tfParams.fontStyle),align:Nt[t].tfParams.align});else if(this==Sprite||this.prototype instanceof Sprite){if(!resources[t])throw new Error("Sprite texture not found `"+t+"`");e=new this(resources[t].texture)}else{if(!(this==Container||this.prototype instanceof Container))throw new Error("Unable to initialize from texture `"+t+"`");e=new this}return e.txInfo=Nt[t],e.name=e.txInfo.name,e.applyProj(),e.addArt(),"function"==typeof e.init&&e.init(),e},PIXI.Graphics.prototype.init=function(){this.renderRect()},PIXI.Graphics.prototype.renderRect=function(t=null,e=null,i=null,s=null){const n=this.txInfo.gfxParams?this.txInfo.gfxParams:{line:{width:0,color:0,alpha:1,alignment:0},fill:{color:16777215,alpha:.5},bevel:3};this.clear(),n.line.width>0&&n.line.alpha>0&&this.lineStyle(n.line.width,n.line.color,n.line.alpha,n.line.alignment),this.beginFill(n.fill.color,n.fill.alpha);const o=t||this.txInfo._proj.tlX-this.txInfo._proj.x,r=e||this.txInfo._proj.tlY-this.txInfo._proj.y,a=i||this.txInfo._proj.width,l=s||this.txInfo._proj.height;n.bevel>0?this.drawRoundedRect(o,r,a,l,n.bevel):this.drawRect(o,r,a,l),this.endFill()},PIXI.DisplayObject.prototype.applyProj=function(){const t=this.txInfo.projID;this.txInfo._proj={},this.txInfo._proj.x=_t[t].transArtX(this.txInfo.x),this.txInfo._proj.y=_t[t].transArtY(this.txInfo.y),this.txInfo._proj.width=_t[t].scale*this.txInfo.width,this.txInfo._proj.height=_t[t].scale*this.txInfo.height,this.txInfo._proj.tlX=this.txInfo._proj.x-this.txInfo._proj.width*this.txInfo.regPercX,this.txInfo._proj.tlY=this.txInfo._proj.y-this.txInfo._proj.height*this.txInfo.regPercY,this.txInfo._proj.brX=this.txInfo._proj.tlX+this.txInfo._proj.width,this.txInfo._proj.brY=this.txInfo._proj.tlY+this.txInfo._proj.height,this.isSprite&&this.anchor.set(this.txInfo.regPercX,this.txInfo.regPercY),this.txInfo.parent?(this.x=_t[t].scale*this.txInfo.x,this.y=_t[t].scale*this.txInfo.y):(this.x=this.txInfo._proj.x,this.y=this.txInfo._proj.y),this.txInfo.hug&&this.hug(this.txInfo.hug),!this.isSprite||this instanceof Text||(this.width=this.txInfo._proj.width,this.height=this.txInfo._proj.height)},q.prototype.mapTxInfo=function(t,e=null){e||(e=this.psdID);let i=[];for(const s in t)i.push(s),t["txInfo."+e+"/"+s]=t[s];for(const e of i)delete t[e];!function(t){for(let e in t){const i=e.split(".")[0];let s,n;if("txInfo"==i&&(s=Nt),!s)throw new Error("Invalid write path `"+e+"`");if("string"==typeof t[e]){const i=t[e],s=i.split(".")[0];let o;"content"==s&&(o=content),n=o?g(o,i.substr(s.length+1)):t[e]}else n=t[e];y(s,e.substr(i.length+1).split(".psd/").join("(dot)psd/"),n)}}(t)},PIXI.DisplayObject.prototype.addArt=function(t){if(!(this instanceof q||this instanceof Q)&&this.txInfo&&0==this.txInfo.children.length)return;let e,i,s,n=[],o=null,r=null;if(this instanceof q||this instanceof Q||!this.txInfo?(!e&&(this instanceof q||this instanceof Q)&&(e=this.psdID),s=!0):(e=this.txInfo.psdID,o=Nt[e+"/"+this.txInfo.children[this.txInfo.children.length-1]].index,r=Nt[e+"/"+this.txInfo.children[0]].index,s=!1),!Gt[e])throw new Error("psdID not found `"+e+"`");i=Gt[e].doc.txs,o=null===o?i.length-1:o,r=null===r?0:r;let a=Array.from(arguments);0==a.length&&"function"==typeof this.addArtTxNameGlobs&&(a=this.addArtTxNameGlobs()),a.sort((function(t,e){const i=t.startsWith("!"),s=e.startsWith("!");return i&&!s?-1:s&&!i?1:0})),this.art||(this.art={});let l={};for(let t=o;t>=r;t--){let o=!1;if(o=s?!i[t].parent:i[t].parent==this.txInfo.name,o){let s=!(a.length>0);for(const e of a){const n=e.startsWith("!");if(s=D(i[t].name,e),n){if(!s)break}else if(s)break}if(s){let s=null;"div"==i[t].type?s=Container.fromTx(e+"/"+i[t].name):"img"==i[t].type?s=Sprite.fromTx(e+"/"+i[t].name):"tf"==i[t].type?s=Text.fromTx(e+"/"+i[t].name):"btn"==i[t].type?s=K.fromTx(e+"/"+i[t].name):"rect"==i[t].type&&(s=Graphics.fromTx(e+"/"+i[t].name)),null!=s&&(i[t].parent&&this.isSprite&&(s.x*=1/this.scale.x,s.y*=1/this.scale.y,s.scale.x*=1/this.scale.x,s.scale.y*=1/this.scale.y),this.addChild(s),this.art[i[t].name]=s,l[i[t].name]=i[t],n.push(s))}}}return n},PIXI.DisplayObject.prototype.hug=function(t,e=null){const i=x(t,!0);if(e=e||{width:St,height:jt},null!==i.x)if(-1==i.x){const t=1*(this.txInfo.x-this.txInfo.regPercX*this.txInfo.width);this.x=this.txInfo._proj.x-this.txInfo._proj.tlX+t}else if(0==i.x)this.x=.5*e.width-(this.txInfo._proj.brX-this.txInfo._proj.x)+.5*this.txInfo._proj.width;else if(1==i.x){const t=1*(Xt.width-(this.txInfo.x+(1-this.txInfo.regPercX)*this.txInfo.width));this.x=e.width-(this.txInfo._proj.brX-this.txInfo._proj.x+t)}if(null!==i.y)if(-1==i.y){const t=1*(this.txInfo.y-this.txInfo.regPercY*this.txInfo.height);this.y=this.txInfo._proj.y-this.txInfo._proj.tlY+t}else if(0==i.y)this.y=.5*e.height-(this.txInfo._proj.brY-this.txInfo._proj.y)+.5*this.txInfo._proj.height;else if(1==i.y){const t=1*(Xt.height-(this.txInfo.y+(1-this.txInfo.regPercY)*this.txInfo.height));this.y=e.height-(this.txInfo._proj.brY-this.txInfo._proj.y+t)}},window.Sprite=PIXI.Sprite,window.Point=PIXI.Point,window.Rectangle=PIXI.Rectangle,window.Text=PIXI.Text,window.Graphics=PIXI.Graphics,window.Container=PIXI.Container,window.loader=PIXI.Loader.shared,window.resources=loader.resources,window.ticker=PIXI.Ticker.shared},467:(t,e,i)=>{"use strict";i.r(e),i.d(e,{id:()=>n,default:()=>o});var s=i(358);const n="fade";class o{constructor(t,e=null,i=!1,s=null){this.scene=t,this.scenePrev=e,this.isModal=i,this.isTransparent=!1}performIn(t,e=!1){const i=e?this.scenePrev:this.scene,n=e?this.scene:this.scenePrev;if(s.nav.isScenePresentedWithTransparentBg()||TweenMax.to(s.nav.bg,.4,{pixi:{tint:i.bgColor},ease:Linear.easeNone}),n){const t=new PIXI.filters.AlphaFilter(1);n.filters=[t],TweenMax.to(t,.4,{pixi:{alpha:0},ease:Linear.easeNone})}i.visible=!0,i.alpha=1;const o=new PIXI.filters.AlphaFilter(0);i.filters=[o],TweenMax.to(o,.4,{pixi:{alpha:1},ease:Linear.easeNone,onComplete:(e?this.onOut:this.onIn).bind(this),onCompleteParams:[t]})}onIn(t){this.scenePrev&&(this.scenePrev.filters=[],this.scenePrev.visible=!1),this.scene.filters=[],t()}performOut(t){this.performIn(t,!0)}onOut(t){this.scene.filters=[],this.scene.visible=!1,this.scenePrev.filters=[],t()}}},306:(t,e,i)=>{"use strict";i.r(e),i.d(e,{id:()=>n,default:()=>r});var s=i(358);const n="mario";let o=0;class r{constructor(t,e=null,i=!1,s=null){this.scene=t,this.scenePrev=e,this.isModal=i,this.isTransparent=!1,this.dur=.6,this.focusDelay=.2,this.focusDurPerc=.3,this.midwayDelay=.3,this.bgCol=s?PIXI.utils.string2hex(s):o}static setDefaultBgCol(t){o=t}performIn(t,e=!1){const i=e?this.scenePrev:this.scene,n=e?this.scene:this.scenePrev;i.visible=!1,this.maxRad=.5*Math.sqrt(Math.pow(s.scaler.stageW,2)+Math.pow(s.scaler.stageH,2)),this.posIn=i.getMarioTransPt(!1),this.posOut=n?n.getMarioTransPt(!0):new PIXI.Point(.5*s.scaler.stageW,.5*s.scaler.stageH),this.focusRadIn=i.getMarioTransFocusRad(!1),this.focusRadOut=n?n.getMarioTransFocusRad(!0):100,this.screen=new PIXI.Graphics,this.screen.x=.5*s.scaler.stageW-this.maxRad,this.screen.y=.5*s.scaler.stageH-this.maxRad,s.nav.sceneHolder.parent.addChildAt(this.screen,s.nav.sceneHolder.parent.getChildIndex(s.nav.sceneHolder)+1),this.props={},this.props.posX=.5*s.scaler.stageW,this.props.posY=.5*s.scaler.stageH,this.props.rad=this.maxRad;const o=0!=this.focusRadIn?this.dur*(1-this.focusDurPerc):this.dur,r=0!=this.focusRadIn?this.focusRadIn:0,a=0!=this.focusRadIn?this.onQuarterWay:this.onHalfWay;TweenMax.to(this.props,o,{rad:r,posX:this.posIn.x,posY:this.posIn.y,ease:Power3.easeOut,delay:0,onUpdate:this.render.bind(this),onComplete:a.bind(this),onCompleteParams:[t,e]})}render(){this.screen.clear().lineStyle(0).beginFill(this.bgCol,1).drawRect(0,0,2*this.maxRad,2*this.maxRad),this.props.rad>1&&this.screen.beginHole().drawCircle(this.maxRad-.5*s.scaler.stageW+this.props.posX,this.maxRad-.5*s.scaler.stageH+this.props.posY,Math.max(this.props.rad,1)).endHole(),this.screen.endFill()}onQuarterWay(t,e=!1){TweenMax.to(this.props,this.dur*this.focusDurPerc,{rad:0,ease:Power3.easeIn,delay:this.focusDelay,onUpdate:this.render.bind(this),onComplete:this.onHalfWay.bind(this),onCompleteParams:[t,e]})}onHalfWay(t,e=!1){const i=e?this.scenePrev:this.scene,n=e?this.scene:this.scenePrev;s.nav.isScenePresentedWithTransparentBg()||TweenMax.set(s.nav.bg,{pixi:{tint:i.bgColor}}),i.visible=!0,n&&(n.visible=!1),this.props.posX=this.posOut.x,this.props.posY=this.posOut.y;const o=0!=this.focusRadOut?this.dur*this.focusDurPerc:this.dur,r=0!=this.focusRadOut?this.focusRadOut:this.maxRad,a=0!=this.focusRadOut?this.on2QuarterWay:this.onIn;let l={rad:r,ease:0!=this.focusRadOut?Power3.easeOut:Power3.easeIn,delay:this.midwayDelay,onUpdate:this.render.bind(this),onComplete:a.bind(this),onCompleteParams:[t,e]};0==this.focusRadOut&&(l.posX=.5*s.scaler.stageW,l.posY=.5*s.scaler.stageH),TweenMax.to(this.props,o,l)}on2QuarterWay(t,e=!1){TweenMax.to(this.props,this.dur*(1-this.focusDurPerc),{rad:this.maxRad,posX:.5*s.scaler.stageW,posY:.5*s.scaler.stageH,ease:Power3.easeIn,delay:this.focusDelay,onUpdate:this.render.bind(this),onComplete:this.onIn.bind(this),onCompleteParams:[t,e]})}onIn(t,e=!1){this.screen.destroy(),s.nav.sceneHolder.parent.removeChild(this.screen),this.screen=null,t()}performOut(t){this.performIn(t,!0)}}},411:(t,e,i)=>{"use strict";i.r(e),i.d(e,{id:()=>n,default:()=>o});var s=i(358);const n="over";class o{constructor(t,e=null,i=!1,s=null){this.scene=t,this.scenePrev=e,this.isModal=i,this.isTransparent=this.isModal,this.maxBlur=1}performIn(t){const e=.6;if(this.scene.visible=!0,this.scenePrev){const t=new PIXI.filters.AlphaFilter(1);this.scenePrev.filters=[t],gsap.to(t,e,{pixi:{alpha:this.isModal?.5:0},ease:Linear.easeNone}),gsap.to(this.scenePrev,e,{pixi:{blur:14},ease:Power3.easeIn})}this.isModal||s.nav.isScenePresentedWithTransparentBg()||gsap.to(s.nav.bg,e,{pixi:{tint:this.scene.bgColor},ease:Linear.easeNone});const i=new PIXI.filters.AlphaFilter(0);this.scene.filters=[i],gsap.to(i,e,{pixi:{alpha:1},ease:Linear.easeNone}),this.scene.position.set(.5*s.scaler.stageW,.5*s.scaler.stageH),this.scene.pivot.set(.5*s.scaler.stageW,.5*s.scaler.stageH),gsap.from(this.scene,e,{pixi:{scale:1.3,blur:this.maxBlur},ease:Power3.easeOut,onComplete:this.onIn.bind(this),onCompleteParams:[t]})}onIn(t){this.scene.filters=[],this.scene.position.set(0,0),this.scene.pivot.set(0,0),this.scenePrev&&!this.isModal&&(this.scenePrev.filters=[]),t()}performOut(t){let e=.4;this.scene.position.set(.5*s.scaler.stageW,.5*s.scaler.stageH),this.scene.pivot.set(.5*s.scaler.stageW,.5*s.scaler.stageH);const i=new PIXI.filters.AlphaFilter(1);this.scene.filters=[i],gsap.to(i,e,{pixi:{alpha:0},ease:Linear.easeNone}),gsap.to(this.scene,e,{pixi:{scale:.9},ease:Sine.easeIn}),gsap.to(this.scene,e,{pixi:{blur:this.maxBlur},ease:Power3.easeOut}),e=.8,gsap.to(this.scenePrev.filters[0],e,{pixi:{alpha:1},ease:Linear.easeNone,delay:0}),gsap.to(this.scenePrev,e,{pixi:{blur:0},ease:Power3.easeIn,delay:0,onComplete:this.onOut.bind(this),onCompleteParams:[t]})}onOut(t){this.scene.position.set(0,0),this.scene.pivot.set(0,0),this.scene.filters=[],this.scenePrev.filters=[],t()}}},197:(t,e,i)=>{"use strict";i.r(e),i.d(e,{id:()=>n,default:()=>r});var s=i(358);const n=["pan","parallax"];let o=600;const r=class{constructor(t,e=null,i=!1,s=null,n=null){this.scene=t,this.scenePrev=e,this.isModal=i,this.isTransparent=!1,this.isParallax="parallax"==n,s=s&&0!=s.length?s.toLowerCase().charAt(0):"r",this.dir="u"==s?{y:-1,x:0}:"d"==s?{y:1,x:0}:"l"==s?{y:0,x:-1}:{y:0,x:1},this.parallaxOffset=o,this.dur=.9}static setParallaxOffset(t){o=t}performIn(t){this.scene.visible=!0,this.scene.x=s.scaler.stageW*this.dir.x,this.scene.y=s.scaler.stageH*this.dir.y,s.nav.isScenePresentedWithTransparentBg()||TweenMax.to(s.nav.bg,this.dur,{pixi:{tint:this.scene.bgColor},ease:Linear.easeNone}),this.scenePrev&&TweenMax.to(this.scenePrev,this.dur,{pixi:{x:s.scaler.stageW*-this.dir.x,y:s.scaler.stageH*-this.dir.y},ease:Power3.easeInOut});var e={pixi:{x:0,y:0},ease:Power3.easeInOut,onComplete:this.onIn.bind(this),onCompleteParams:[t]};if(this.isParallax){let t=[this.scene];this.scenePrev&&t.push(this.scenePrev),e.onUpdate=this.applyParallax.bind(this),e.onUpdateParams=[t],this.applyParallax(t,!0)}TweenMax.to(this.scene,this.dur,e)}onIn(t){let e=[this.scene];this.scenePrev&&(this.scenePrev.x=0,this.scenePrev.y=0,this.scenePrev.visible=!1,e.push(this.scenePrev)),this.isParallax&&this.resetParallax(e),t()}applyParallax(t,e=!1){for(const i of t){const t=i.x/s.scaler.stageW,n=i.y/s.scaler.stageH;for(const s of i.children)s.txInfo&&(e&&(s.txInfo._parallax_x=s.x,s.txInfo._parallax_y=s.y),s.x=s.txInfo._parallax_x+s.txInfo.z*t*this.parallaxOffset,s.y=s.txInfo._parallax_y+s.txInfo.z*n*this.parallaxOffset)}}resetParallax(t){for(const e of t)for(const t of e.children)t.txInfo&&(t.x=t.txInfo._parallax_x,t.y=t.txInfo._parallax_y,delete t.txInfo._parallax_x,delete t.txInfo._parallax_y)}performOut(t){this.scenePrev.visible=!0,this.scenePrev.x=s.scaler.stageW*this.dir.x*-1,this.scenePrev.y=s.scaler.stageH*this.dir.y*-1,TweenMax.to(s.nav.bg,this.dur,{pixi:{tint:this.scenePrev.bgColor},ease:Linear.easeNone}),TweenMax.to(this.scene,this.dur,{pixi:{x:s.scaler.stageW*-this.dir.x*-1,y:s.scaler.stageH*-this.dir.y*-1},ease:Power3.easeInOut});var e={pixi:{x:0,y:0},ease:Power3.easeInOut,onComplete:this.onOut.bind(this),onCompleteParams:[t]};this.isParallax&&(e.onUpdate=this.applyParallax.bind(this),e.onUpdateParams=[[this.scene,this.scenePrev]],this.applyParallax(eles,!0)),TweenMax.to(this.scenePrev,this.dur,e)}onOut(t){this.scene.visible=!1,this.scene.x=0,this.scene.y=0,this.isParallax&&this.resetParallax([this.scene,this.scenePrev]),t()}}},470:(t,e,i)=>{"use strict";i.r(e),i.d(e,{id:()=>n,default:()=>o});var s=i(358);const n="pixelate";class o{constructor(t,e=null,i=!1,s=null){this.scene=t,this.scenePrev=e,this.isModal=i,this.isTransparent=!1}performIn(t,e=!1){const i=e?this.scenePrev:this.scene,n=e?this.scene:this.scenePrev;let o=.6;s.nav.isScenePresentedWithTransparentBg()||TweenMax.to(s.nav.bg,o,{pixi:{tint:i.bgColor},ease:Linear.easeNone}),i.alpha=1;const r=new PIXI.filters.PixelateFilter(40);i.filters=[r],this.perc=0;let a=this,l=null,h=0;const c="steps("+String(Math.round(9))+")";n&&(l=new PIXI.filters.PixelateFilter(1),n.filters=[l],TweenMax.to(this,o,{perc:1,ease:c,onUpdate:function(){l.size=1+39*a.perc},onComplete:function(){n.visible=!1}}),h=o),TweenMax.fromTo(this,o,{perc:0},{perc:1,delay:h,ease:c,onUpdate:function(){r.size=1+39*(1-a.perc)},onStart:function(){i.visible=!0},onComplete:e?this.onOut:this.onIn.bind(this),onCompleteParams:[t]})}onIn(t){this.scenePrev&&(this.scenePrev.filters=[],this.scenePrev.visible=!1),this.scene.filters=[],t()}performOut(t){this.performIn(t,!0)}onOut(t){this.scenePrev.filters=[],this.scene.filters=[],t()}}},61:(t,e,i)=>{var s={"./fade.js":467,"./mario.js":306,"./over.js":411,"./pan.js":197,"./pixelate.js":470};function n(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=o,t.exports=n,n.id=61},47:t=>{"use strict";function e(t){return null===t?"null":void 0===t?"undefined":"object"==typeof t?Array.isArray(t)?"array":"object":typeof t}function i(t){return"object"===e(t)?n(t):"array"===e(t)?s(t):t}function s(t){return t.map(i)}function n(t){const e={};for(const s in t)t.hasOwnProperty(s)&&(e[s]=i(t[s]));return e}function o(t,i=[],r={}){const a={arrayBehaviour:r.arrayBehaviour||"replace"},l=i.map((t=>t||{})),h=t||{};for(let t=0;t<l.length;t++){const i=l[t],r=Object.keys(i);for(let t=0;t<r.length;t++){const l=r[t],c=i[l],f=e(c),p=e(h[l]);if("object"===f)if("undefined"!==p){const t="object"===p?h[l]:{};h[l]=o({},[t,n(c)],a)}else h[l]=n(c);else if("array"===f)if("array"===p){const t=s(c);h[l]="merge"===a.arrayBehaviour?h[l].concat(t):t}else h[l]=s(c);else h[l]=c}}return h}t.exports=function(t,...e){return o(t,e)},t.exports.noMutate=function(...t){return o({},t)},t.exports.withOptions=function(t,e,i){return o(t,e,i)}},755:t=>{"use strict";t.exports=JSON.parse('{"doc":{"name":"test.psd","txs":[{"name":"ball","x":250.25,"y":250.25,"regPercX":0.5,"regPercY":0.5,"hug":"","z":0,"width":38.5,"height":38.5,"clone":"","src":"img/test/ball.png","type":"img","tfParams":"","parent":"","flags":"","class":""}]},"pubtime":"2021-3-10 13:47:52"}')},403:(t,e,i)=>{var s={"./test.psd.json":755};function n(t){var e=o(t);return i(e)}function o(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=o,t.exports=n,n.id=403}},e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):i}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=i(358),a=(r.utils,r.scaler),l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,PIXI.Sprite);var i,r,l,h,c=(l=f,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=o(l);if(h){var i=o(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return n(this,t)});function f(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,t)}return i=f,(r=[{key:"init",value:function(){this.on("removed",this.dispose),this.tint=16777215*Math.random(),this.x=a.stageW*Math.random(),this.y=a.stageH*Math.random(),this.speedX=100*Math.random()-50,this.speedY=100*Math.random()-50}},{key:"tick",value:function(t){this.x+=this.speedX,this.y+=this.speedY;var e=!1,i=!1;this.x>a.stageW&&(this.speedX=-1*this.speedX,this.tint=16777215*Math.random(),e=!0),this.x<0&&(this.speedX=-1*this.speedX,this.tint=16777215*Math.random(),e=!0),this.y>a.stageH&&(this.speedY=-1*this.speedY,this.tint=16777215*Math.random(),i=!0),this.y<0&&(this.speedY=-1*this.speedY,this.tint=16777215*Math.random(),i=!0),e&&i&&(this.speedX=0,this.speedY=0,this.tint=16777215)}},{key:"dispose",value:function(){this.off("removed",this.dispose),this._healthbar=null}}])&&e(i.prototype,r),f}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function f(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=i(358),g=y.Scene,P=(y.utils,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e,i,s,n,o=(s=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(s);if(n){var i=x(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return d(this,t)});function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.call(this,t,"test.psd",0,!1)}return e=r,(i=[{key:"didLoad",value:function(t){for(p(x(r.prototype),"didLoad",this).call(this,t),this.balls=[];this.balls.length<100;){var e=l.fromTx(this.psdID+"/ball");this.addChild(e),this.balls.push(e)}this.ready()}},{key:"shouldReloadOnStageResize",value:function(t,e){return this.layout(),!1}},{key:"layout",value:function(){}},{key:"onBtn",value:function(t){}},{key:"onWillArrive",value:function(t){p(x(r.prototype),"onWillArrive",this).call(this,t)}},{key:"onDidArrive",value:function(t){p(x(r.prototype),"onDidArrive",this).call(this,t),this.resumeTick()}},{key:"pauseTick",value:function(){ticker.remove(this.tick,this)}},{key:"resumeTick",value:function(){this.pauseTick(),ticker.add(this.tick,this)}},{key:"tick",value:function(t){var e,i=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}(this.balls);try{for(i.s();!(e=i.n()).done;)e.value.tick(t)}catch(t){i.e(t)}finally{i.f()}}},{key:"onWillExit",value:function(t){p(x(r.prototype),"onWillExit",this).call(this,t)}},{key:"onDidExit",value:function(t){p(x(r.prototype),"onDidExit",this).call(this,t)}},{key:"dispose",value:function(){p(x(r.prototype),"dispose",this).call(this)}}])&&f(e.prototype,i),r}(g)),m=i(358),I=m.createApp,w=m.utils,v=m.scaler,b=m.nav,_=m.ui,T=m.Btn,M={test:{class:P,sceneData:{},default:!0}};b.setScenes(M),_.registerPsdInfo(w.requireAll(i(403))),_.registerFonts({});var O={width:Math.round(500),height:Math.round(500)};v.configureArtboard(O,2,{default:{alignment:{x:0,y:0},scaleToFit:"contain",minDensity:1},ui:{matchProjScale:"default",pinToProj:"default",minScale:1,maxScale:1.2}}),T.registerClass("red",{gfxParams:{line:{width:0,color:255,alpha:1,alignment:0},fill:{color:16724736,alpha:1},bevel:5},tfParams:{color:0}}),I(w.e("game"),!0,1,(function(){TweenMax.to(w.e("spinner"),.4,{alpha:0,ease:Linear.easeNone,onComplete:function(){w.e("spinner").remove()}})}))})()})();